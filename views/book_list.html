{{template "header" .}}


<div class="container" style="margin-top:50px;">
  <div class="panel">
    <div class="panel-heading">
        <button class="btn btn-success" data-toggle="modal" data-target="#myModal">添加</button>
    </div>
    <div class="panel-body">
        <table class="table table-hover table-bordered">
            <thead>
              <tr>
                <th>图书编号</th>
                <th>书名</th>
                <th>作者</th>
                <th>价格</th>
                <th>库存</th>
                <th>出版日期</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
                <td>@mdo</td>
                <td>@mdo</td>
                <td>
                  <a href="">
                      <button class="btn btn-success" value="">修改</button>
                  </a>
                  <a href="">
                      <button class="btn btn-danger" value="">删除</button>
                  </a>
              </td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@mdo</td>
                <td>@mdo</td>
                <td>@fat</td>
                <td>
                  <a href="">
                      <button class="btn btn-success" value="">修改</button>
                  </a>
                  <a href="">
                      <button class="btn btn-danger" value="">删除</button>
                  </a>
                
              </td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>Larry</td>
                <td>the Bird</td>
                <td>@mdo</td>
                <td>@mdo</td>
                <td>@twitter</td>
                <td>
                  <a href="">
                      <button class="btn btn-success" value="">修改</button>
                  </a>
                  <a href="">
                      <button class="btn btn-danger" value="">删除</button>
                  </a>
                 
              </td>
              </tr>
            </tbody>
        </table>
    </div>

   

  </div>
   
</div>
<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">添加书籍</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" method="POST" action="/book_add">
                    <div class="form-group">
                      <label for="book-id" class="col-sm-2 control-label" style="margin-left:20px;">书籍ID:</label>
                      <div class="col-sm-9">
                        <input type="text" class="form-control" id="book-id" placeholder="书籍唯一标识" name="book_id">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="book-price" class="col-sm-2 control-label" style="margin-left:20px;">价格:</label>
                      <div class="col-sm-9">
                        <input type="text" class="form-control" id="book-price" placeholder="价格" name="price">
                      </div>
                    </div>
                    <div class="form-group">
                        <label for="book-author" class="col-sm-2 control-label" style="margin-left:20px;">作者:</label>
                        <div class="col-sm-9">
                          <input type="text" class="form-control" id="book-author" placeholder="作者" name="author">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="book-name" class="col-sm-2 control-label" style="margin-left:20px;">书籍名称:</label>
                        <div class="col-sm-9">
                          <input type="text" class="form-control" id="book-name" placeholder="书名" name="book_name">
                        </div>
                      </div>
                      <div class="form-group">
                          <label for="publish-time" class="col-sm-2 control-label" style="margin-left:20px;">出版日期:</label>
                          <div class="col-sm-9">
                            <input type="text" class="form-control" id="publish-time" placeholder="出版日期" name="publish_time">
                          </div>
                        </div>

                        
                        
                        <div class="form-group">
                          <label for="add-num" class="col-sm-2 control-label" style="margin-left:20px;">添加数量:</label>
                          <div class="col-sm-9">
                            <input type="text" class="form-control" id="add-num" placeholder="添加数量" name="add_num">
                          </div>
                        </div>

                        <div class="form-group inline-group">
                            <label for="add-num" class="col-sm-2 control-label" style="margin-left:20px;">添加数量:</label>
                            <div class="errors"></div>
                            <div class="input-group date form_date col-sm-7" data-date="" data-date-format="dd MM yyyy"
                                 data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                                <input class="form-control"  type="text" value="" id="rli" readonly
                                       placeholder="请选择日期"/>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                            <input type="hidden" id="dtp_input2" value=""/><br/>
                        </div>


                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            <button type="submit" class="btn btn-primary">提交更改</button>
                        </div>
      
                  </form>

            </div>
            
        </div>
    </div>
</div>


<script type="text/javascript" src="/static/bootstrap-3.3.7-dist/js/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="/static/bootstrap-3.3.7-dist/js/bootstrap-datetimepicker.zh-CN.js"></script>
<script>
      // 对Date的扩展，将 Date 转化为指定格式的String
    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
    // 例子：
    // (new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2006-07-02 08:09:04.423
    // (new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2006-7-2 8:9:4.18
    Date.prototype.Format = function (fmt) { //author: meizz
        var o = {
            "M+": this.getMonth() + 1, //月份
            "d+": this.getDate(), //日
            "h+": this.getHours(), //小时
            "m+": this.getMinutes(), //分
            "s+": this.getSeconds(), //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds() //毫秒
        };
        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    };
    SELECT_ROOM = {"DEL": {}, "ADD": {}};
    CHOSE_DATE = new Date().Format("yyyy-MM-dd");
    //页面加载的时候就执行
    $(function () {
        initDatePicker();
    });
    // 初始化时间插件
    function initDatePicker() {
        $('.form_date').datetimepicker({
            format: 'yyyy-mm-dd',
            language: 'zh-CN',
            bootcssVer: 3,//bootstrap3,避免小图标不出现,好像没什么卵用
            weekStart: 1,
            // startDate: new Date(), //起始时间
            todayBtn: 1,
            // autoclose: 1, //是否自动关闭
            todayHighlight: 1,
            startView: 2,
            minView: 2,
            forceParse: 0
        }).on("changeDate", changeDate);
    }
    // 时间插件change函数
    function changeDate(ev) {
        CHOSE_DATE = ev.date.Format('yyyy-MM-dd');
        initBookInfo(CHOSE_DATE)
    }
</script>
</body>
</html>